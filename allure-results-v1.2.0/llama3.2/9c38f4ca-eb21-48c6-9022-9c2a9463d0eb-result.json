{"name": "test_next_role[What are the recent DeFi activities for the address 0x742d35Cc6634C0532925a3b844Bc454e4438f44e?-feed_explorer_agent-3-3]", "status": "failed", "statusDetails": {"message": "AssertionError: Expected feed_explorer_agent, but got fallback_agent for query: What are the recent DeFi activities for the address 0x742d35Cc6634C0532925a3b844Bc454e4438f44e?\nassert 'fallback_agent' == 'feed_explorer_agent'\n  \n  - feed_explorer_agent\n  + fallback_agent", "trace": "supervisor_chain = ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.mess...string'}}, 'required': ['next_']}}}], 'tool_choice': 'route'})\n| JsonOutputToolsParser()\n| RunnableLambda(extract_next)\nquery = 'What are the recent DeFi activities for the address 0x742d35Cc6634C0532925a3b844Bc454e4438f44e?'\nexpected_role = 'feed_explorer_agent'\n\n    @pytest.mark.parametrize(\n        \"query,expected_role\",\n        [\n            (\"What's the current price of Ethereum and its market trend?\", \"market_analysis_agent\"),\n            (\"Can you check my ETH balance and show me how to swap some for USDC?\", \"asset_management_agent\"),\n            (\"swap 1 eth to usdt on ethereum.\", \"asset_management_agent\"),\n            (\"Can you help me transfer 0.5 ETH to 0x742d35Cc6634C0532925a3b844Bc454e4438f44e on the Ethereum network?\", \"asset_management_agent\"),\n            (\"What's the latest block height on the Ethereum network, and what are the current gas fees?\", \"block_explorer_agent\"),\n            (\n                \"Can you provide a detailed analysis of the Uniswap project, including its recent developments and market position?\",\n                \"research_analyst_agent\",\n            ),\n            (\"What's the weather like today in New York?\", \"fallback_agent\"),\n            (\"What are the recent DeFi activities for the address 0x742d35Cc6634C0532925a3b844Bc454e4438f44e?\", \"feed_explorer_agent\"),\n            (\"Show me the latest social interactions for vitalik.eth on Farcaster.\", \"feed_explorer_agent\"),\n            (\"What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?\", \"feed_explorer_agent\"),\n        ],\n    )\n    def test_next_role(supervisor_chain, query, expected_role):\n        result = next_role(supervisor_chain, query)\n>       assert result == expected_role, f\"Expected {expected_role}, but got {result} for query: {query}\"\nE       AssertionError: Expected feed_explorer_agent, but got fallback_agent for query: What are the recent DeFi activities for the address 0x742d35Cc6634C0532925a3b844Bc454e4438f44e?\nE       assert 'fallback_agent' == 'feed_explorer_agent'\nE         \nE         - feed_explorer_agent\nE         + fallback_agent\n\nsupervisor_chain.py:43: AssertionError"}, "attachments": [{"name": "stderr", "source": "f88a20fd-3cad-4dc2-93a2-a1633a1ee36a-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "query", "value": "'What are the recent DeFi activities for the address 0x742d35Cc6634C0532925a3b844Bc454e4438f44e?'"}, {"name": "expected_role", "value": "'feed_explorer_agent'"}, {"name": "__pytest_repeat_step_number", "value": "2"}], "start": 1730429022796, "stop": 1730429025365, "uuid": "9e1ea7ca-b546-4950-b11a-331207067c99", "historyId": "5108dd5b7b5b2118248537e6e96af5a0", "testCaseId": "3e43456752095e89c65ccb239707f226", "fullName": "tests.supervisor_chain#test_next_role", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "supervisor_chain"}, {"name": "host", "value": "fv-az1152-915"}, {"name": "thread", "value": "5679-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.supervisor_chain"}]}