{"uid":"50a94d4a044c9d60","name":"test_query_project[1-3]","fullName":"tests.agent_trajectory.research_analyst#test_query_project","historyId":"5afab4cf0a1087c7d7091b29a5978f30","time":{"start":1730348264918,"stop":1730348268019,"duration":3101},"status":"failed","statusMessage":"AssertionError: assert 'DuckDuckGoSearchExecutor' == 'ProjectExecutor'\n  \n  - ProjectExecutor\n  + DuckDuckGoSearchExecutor","statusTrace":"research_analyst_agent = AgentExecutor(verbose=True, agent=RunnableMultiActionAgent(runnable=RunnableAssign(mapper={\n  agent_scratchpad: Runnab...rn_keys_arg=[], stream_runnable=True), tools=[DuckDuckGoSearchRun(name='DuckDuckGoSearchExecutor'), ProjectExecutor()])\n\n    @pytest.mark.asyncio\n    async def test_query_project(research_analyst_agent):\n        events = research_analyst_agent.astream_events(\n            {\"messages\": [HumanMessage(content=\"Do you know anything about RSS3?\", name=\"human\")]}, version=\"v1\"\n        )\n    \n        tool_end_count = 0\n    \n        async for event in events:\n            if event[\"event\"] == \"on_tool_end\":\n                event_data_input_ = event[\"data\"][\"input\"]\n>               assert event[\"name\"] == \"ProjectExecutor\"\nE               AssertionError: assert 'DuckDuckGoSearchExecutor' == 'ProjectExecutor'\nE                 \nE                 - ProjectExecutor\nE                 + DuckDuckGoSearchExecutor\n\nagent_trajectory/research_analyst.py:30: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1730348257450,"stop":1730348257451,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"research_analyst_agent","time":{"start":1730348257451,"stop":1730348264847,"duration":7396},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1730348264848,"stop":1730348264848,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 'DuckDuckGoSearchExecutor' == 'ProjectExecutor'\n  \n  - ProjectExecutor\n  + DuckDuckGoSearchExecutor","statusTrace":"research_analyst_agent = AgentExecutor(verbose=True, agent=RunnableMultiActionAgent(runnable=RunnableAssign(mapper={\n  agent_scratchpad: Runnab...rn_keys_arg=[], stream_runnable=True), tools=[DuckDuckGoSearchRun(name='DuckDuckGoSearchExecutor'), ProjectExecutor()])\n\n    @pytest.mark.asyncio\n    async def test_query_project(research_analyst_agent):\n        events = research_analyst_agent.astream_events(\n            {\"messages\": [HumanMessage(content=\"Do you know anything about RSS3?\", name=\"human\")]}, version=\"v1\"\n        )\n    \n        tool_end_count = 0\n    \n        async for event in events:\n            if event[\"event\"] == \"on_tool_end\":\n                event_data_input_ = event[\"data\"][\"input\"]\n>               assert event[\"name\"] == \"ProjectExecutor\"\nE               AssertionError: assert 'DuckDuckGoSearchExecutor' == 'ProjectExecutor'\nE                 \nE                 - ProjectExecutor\nE                 + DuckDuckGoSearchExecutor\n\nagent_trajectory/research_analyst.py:30: AssertionError","steps":[],"attachments":[{"uid":"59547b9a4724f947","name":"stdout","source":"59547b9a4724f947.txt","type":"text/plain","size":218},{"uid":"3ac633f9af6d86f1","name":"stderr","source":"3ac633f9af6d86f1.txt","type":"text/plain","size":125}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"event_loop::3","time":{"start":1730348268028,"stop":1730348268028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1730348268028,"stop":1730348268028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_restore_policy","time":{"start":1730348268028,"stop":1730348268028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1730348268028,"stop":1730348268029,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.agent_trajectory"},{"name":"suite","value":"research_analyst"},{"name":"host","value":"fv-az2022-368"},{"name":"thread","value":"4858-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.agent_trajectory.research_analyst"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"__pytest_repeat_step_number","value":"0"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["asyncio"]},"source":"50a94d4a044c9d60.json","parameterValues":["0"]}