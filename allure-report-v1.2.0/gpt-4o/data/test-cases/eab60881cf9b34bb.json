{"uid":"eab60881cf9b34bb","name":"test_next_role[What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?-feed_explorer_agent-3-3]","fullName":"tests.supervisor_chain#test_next_role","historyId":"146dc417ce37df620096ac9a6aba41e9","time":{"start":1730428869986,"stop":1730428870333,"duration":347},"status":"failed","statusMessage":"AssertionError: Expected feed_explorer_agent, but got block_explorer_agent for query: What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?\nassert 'block_explorer_agent' == 'feed_explorer_agent'\n  \n  - feed_explorer_agent\n  ? ^^^^\n  + block_explorer_agent\n  ? ^^^^^","statusTrace":"supervisor_chain = ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.mess...choice': {'type': 'function', 'function': {'name': 'route'}}})\n| JsonOutputToolsParser()\n| RunnableLambda(extract_next)\nquery = 'What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?'\nexpected_role = 'feed_explorer_agent'\n\n    @pytest.mark.parametrize(\n        \"query,expected_role\",\n        [\n            (\"What's the current price of Ethereum and its market trend?\", \"market_analysis_agent\"),\n            (\"Can you check my ETH balance and show me how to swap some for USDC?\", \"asset_management_agent\"),\n            (\"swap 1 eth to usdt on ethereum.\", \"asset_management_agent\"),\n            (\"Can you help me transfer 0.5 ETH to 0x742d35Cc6634C0532925a3b844Bc454e4438f44e on the Ethereum network?\", \"asset_management_agent\"),\n            (\"What's the latest block height on the Ethereum network, and what are the current gas fees?\", \"block_explorer_agent\"),\n            (\n                \"Can you provide a detailed analysis of the Uniswap project, including its recent developments and market position?\",\n                \"research_analyst_agent\",\n            ),\n            (\"What's the weather like today in New York?\", \"fallback_agent\"),\n            (\"What are the recent DeFi activities for the address 0x742d35Cc6634C0532925a3b844Bc454e4438f44e?\", \"feed_explorer_agent\"),\n            (\"Show me the latest social interactions for vitalik.eth on Farcaster.\", \"feed_explorer_agent\"),\n            (\"What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?\", \"feed_explorer_agent\"),\n        ],\n    )\n    def test_next_role(supervisor_chain, query, expected_role):\n        result = next_role(supervisor_chain, query)\n>       assert result == expected_role, f\"Expected {expected_role}, but got {result} for query: {query}\"\nE       AssertionError: Expected feed_explorer_agent, but got block_explorer_agent for query: What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?\nE       assert 'block_explorer_agent' == 'feed_explorer_agent'\nE         \nE         - feed_explorer_agent\nE         ? ^^^^\nE         + block_explorer_agent\nE         ? ^^^^^\n\nsupervisor_chain.py:43: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1730428867252,"stop":1730428867252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"supervisor_chain","time":{"start":1730428867253,"stop":1730428868593,"duration":1340},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Expected feed_explorer_agent, but got block_explorer_agent for query: What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?\nassert 'block_explorer_agent' == 'feed_explorer_agent'\n  \n  - feed_explorer_agent\n  ? ^^^^\n  + block_explorer_agent\n  ? ^^^^^","statusTrace":"supervisor_chain = ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.mess...choice': {'type': 'function', 'function': {'name': 'route'}}})\n| JsonOutputToolsParser()\n| RunnableLambda(extract_next)\nquery = 'What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?'\nexpected_role = 'feed_explorer_agent'\n\n    @pytest.mark.parametrize(\n        \"query,expected_role\",\n        [\n            (\"What's the current price of Ethereum and its market trend?\", \"market_analysis_agent\"),\n            (\"Can you check my ETH balance and show me how to swap some for USDC?\", \"asset_management_agent\"),\n            (\"swap 1 eth to usdt on ethereum.\", \"asset_management_agent\"),\n            (\"Can you help me transfer 0.5 ETH to 0x742d35Cc6634C0532925a3b844Bc454e4438f44e on the Ethereum network?\", \"asset_management_agent\"),\n            (\"What's the latest block height on the Ethereum network, and what are the current gas fees?\", \"block_explorer_agent\"),\n            (\n                \"Can you provide a detailed analysis of the Uniswap project, including its recent developments and market position?\",\n                \"research_analyst_agent\",\n            ),\n            (\"What's the weather like today in New York?\", \"fallback_agent\"),\n            (\"What are the recent DeFi activities for the address 0x742d35Cc6634C0532925a3b844Bc454e4438f44e?\", \"feed_explorer_agent\"),\n            (\"Show me the latest social interactions for vitalik.eth on Farcaster.\", \"feed_explorer_agent\"),\n            (\"What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?\", \"feed_explorer_agent\"),\n        ],\n    )\n    def test_next_role(supervisor_chain, query, expected_role):\n        result = next_role(supervisor_chain, query)\n>       assert result == expected_role, f\"Expected {expected_role}, but got {result} for query: {query}\"\nE       AssertionError: Expected feed_explorer_agent, but got block_explorer_agent for query: What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?\nE       assert 'block_explorer_agent' == 'feed_explorer_agent'\nE         \nE         - feed_explorer_agent\nE         ? ^^^^\nE         + block_explorer_agent\nE         ? ^^^^^\n\nsupervisor_chain.py:43: AssertionError","steps":[],"attachments":[{"uid":"ef8f8e66ab087edb","name":"stderr","source":"ef8f8e66ab087edb.txt","type":"text/plain","size":118}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"supervisor_chain"},{"name":"host","value":"fv-az1152-915"},{"name":"thread","value":"4603-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.supervisor_chain"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"__pytest_repeat_step_number","value":"2"},{"name":"expected_role","value":"'feed_explorer_agent'"},{"name":"query","value":"'What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"eab60881cf9b34bb.json","parameterValues":["2","'feed_explorer_agent'","'What are the most recent activities of vitalik.eth from the Uniswap on Ethereum?'"]}